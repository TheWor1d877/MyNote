## HTTP1.x
Http1.0是短连接，每次请求都需要http三次握手，四次挥手

HTTP1.1 引入了KeepAlive
门开一次，总算不再关上了，一个TCP里面能挂多个请求
加上host头，一台服务器能挂多个域名，这就是云服务器的虚拟主机的基本盘

HTTP1.1的问题：串行连接，应用层有队头堵塞的问题

## HTTP2.0
HTTP2.0: 多路复用，引入了stream，将请求拆成一个个编号的二进制帧，这些帧可以交错并发的在同一个TCP连接中流动，这样就能保证即使大文件很慢也不会挡住后面的小文件

这样就把多次请求拆成多个stream，每个stream中包含多个frame，最后将frame组装回去形成整个stream也就是整个请求

HTTP2.0的另外两个核心
1. 头部压缩HPACK
重复的HEADER不再重复发送，而是使用客户端与服务器共同维护的索引表替代
双方动态表严格按顺序更新，保证一致性

2. 服务端推送
推送其他可能需要的文件，在HTTP3.0废弃，因为太费带宽

HTTP2.0缺点：
没有真正解决对头阻塞的问题
因为在TCP连接层有一个原则就是按序到达
如果丢包，需要丢失的包重传回来才能继续往下滑动窗口

## HTTP3.0
HTTP协议基于UDP，但是真正实现TCP那一套可靠传输，流量控制，拥塞控制都让QUIC在用户态重新实现一遍
这个就是HTTP3.0来解决HTTP2.0对头阻塞的问题

HTTP3.0还解决握手太慢的问题
QUIC将握手与加密放到一个RTT中实现，如果以前连接过不同RTT，一边认证一边传数据

HTTP3.0还解决移动端网络切换的问题
HTTP3.0的连接认证考connect_id

HTTP3.0支持QPACK来替换HPACK
因为HPACK只能严格按照顺序来收发，不适合UDP

