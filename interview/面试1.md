### 一、操作系统与存储基础 (1-25题)

#### **文件系统相关**
1. **Linux IO栈的完整路径是什么？从系统调用到块设备驱动。**
2. **VFS(Virtual File System)的作用是什么？它抽象了哪些接口？**
3. **Page Cache和Buffer Cache的区别是什么？**
4. **直接IO(Direct IO)和缓冲IO的区别？什么场景下使用Direct IO？**
5. **mmap的原理是什么？相比于read/write有什么优缺点？**
6. **O_SYNC、O_DSYNC、O_RSYNC这些标志位的区别？**
7. **稀疏文件是如何实现的？有什么应用场景？**
8. **ext4的日志机制是如何工作的？有哪几种日志模式？**
9. **文件描述符(File Descriptor)和inode的关系是什么？**
10. **硬链接和软链接在实现上的本质区别？**

#### **内存管理**
11. **虚拟内存和物理内存的映射机制是怎样的？**
12. **TLB的作用是什么？TLB miss会带来什么代价？**
13. **透明大页(Transparent Huge Pages)对存储系统有什么影响？**
14. **NUMA架构下如何优化内存访问？**
15. **mlock()函数的作用是什么？为什么存储系统需要锁住内存？**

#### **进程与线程**
11. **进程间通信的几种方式，哪种最适合高性能存储系统？**
12. **线程池在存储系统中的重要性？如何设计一个高效的线程池？**
13. **协程相比线程有什么优势？在存储系统中如何应用？**
14. **自旋锁和互斥锁在存储系统中的使用场景？**
15. **CPU亲和性对存储性能的影响？**

#### **IO模型**
11. **select/poll/epoll的区别和性能对比？**
12. **AIO(异步IO)在Linux中的实现机制？有什么限制？**
13. **io_uring相比AIO有什么优势？**
14. **同步IO、异步IO、阻塞IO、非阻塞IO的区别？**
15. **如何监控和分析系统的IO性能？有哪些工具？**


### 二、存储引擎核心算法与数据结构 (26-50题)

#### **数据结构基础**
11. **哈希表和B+树在存储引擎中的适用场景对比？**
12. **跳表(Skip List)的原理和复杂度？为什么LevelDB/RocksDB使用跳表？**
13. **布隆过滤器(Bloom Filter)的原理和误判率计算？在存储系统中的应用？**
14. **HyperLogLog的原理和在大数据存储中的应用？**
15. **一致性哈希算法的原理？如何解决节点动态增减问题？**

#### **LSM-Tree深度**
11. **LSM-Tree和B+Tree的核心思想差异？各自的优缺点？**
12. **LSM-Tree的写入流程（MemTable、WAL、Immutable MemTable、Compaction）？**
13. **RocksDB中的Leveled Compaction和Tiered Compaction的区别？**
14. **写放大(Write Amplification)、读放大(Read Amplification)、空间放大(Space Amplification)在LSM-Tree中如何权衡？**
15. **LSM-Tree的墓碑(Tombstone)机制？如何优雅地删除数据？**
16. **LSM-Tree中如何优化范围查询？**
17. **LSM-Tree的Multi-Version Concurrency Control实现？**
18. **WAL(Write-Ahead Log)的作用？为什么需要先写日志？**
19. **如何优化LSM-Tree的Compaction性能？有哪些策略？**
20. **LSM-Tree在SSD和HDD上表现差异的原因？**

#### **其他存储结构**
11. **B+树在数据库中的实现细节（分裂、合并、旋转）？**
12. **Fractal Tree/ Bε-Tree的原理和优势？**
13. **Columnar Storage列式存储的原理和适用场景？**
14. **Delta Lake / Hudi中的ACID实现机制？**
15. **图数据库的存储结构特点？**

### 三、分布式存储系统 (51-70题)

#### **一致性协议**
11. **CAP定理的理解？分布式存储系统如何权衡？**
12. **Raft协议的详细流程（Leader选举、日志复制、成员变更）？**
13. **Raft和Paxos的对比？为什么Etcd选择Raft？**
14. **Multi-Raft是什么？解决了什么问题？**
15. **分布式事务的两阶段提交(2PC)和三阶段提交(3PC)？**
16. **Paxos和ZAB协议的对比？**

#### **数据分布与复制**
11. **数据分片(Sharding)的几种策略（Range、Hash、List）？**
12. **数据复制模型（同步、异步、半同步）？**
13. **Quorum机制的原理？如何计算读写法定人数？**
14. **Gossip协议的原理和在分布式存储中的应用？**
15. **向量时钟(Vector Clock)的原理和冲突解决？**
16. **CRDT(Conflict-free Replicated Data Type)是什么？**

#### **分布式一致性与事务**
11. **分布式快照(Chandy-Lamport算法)的实现？**
12. **MVCC在分布式数据库中的实现？**
13. **Spanner的TrueTime原理？**
14. **Percolator事务模型？**
15. **分布式锁的实现方案？基于Redis/ZooKeeper/etcd的对比？**

#### **容错与恢复**
11. **拜占庭容错在存储系统中的应用？**
12. **数据恢复时如何保证一致性？**
13. **脑裂(Split-brain)问题及解决方案？**

### 四、C++/Rust编程与系统编程 (71-90题)

#### **C++高级特性**
11. **智能指针（unique_ptr、shared_ptr、weak_ptr）在存储系统中的应用场景？**
12. **移动语义和完美转发如何提升存储系统性能？**
13. **内存对齐对存储系统性能的影响？**
14. **C++11/14/17/20中哪些特性对存储系统开发最重要？**
15. **如何避免C++中的虚函数调用开销？有哪些替代方案？**

#### **Rust存储编程**
11. **Rust的所有权系统如何帮助构建安全的存储系统？**
12. **`Arc<Mutex<T>> vs Rc<RefCell<T>>的选择？**`
13. **Rust中的零成本抽象在存储系统中的体现？**
14. **如何用Rust实现无锁数据结构？**
15. **Rust的async/await在IO密集型的存储系统中如何使用？**
#### **内存管理与性能优化**
1. **自定义内存分配器在存储系统中的意义？如何实现？**
2. **内存池的实现原理？对比malloc的优势？**
3. **如何检测和避免内存碎片？**
4. **CPU Cache Line对数据结构设计的影响？**
5. **false sharing是什么？如何避免？**

#### **并发编程**
1. **无锁队列(Lock-free Queue)的实现原理？**
2. **RCU(Read-Copy-Update)的原理和应用？**
3. **内存屏障(Memory Barrier)的作用和类型？**
4. **C++11内存模型对并发编程的影响？**
5. **如何设计线程安全的环形缓冲区(Ring Buffer)？**

### 五、高级主题与系统设计 (91-100题)

#### **新硬件与存储**
1. **NVMe相比SATA的优势？NVMe over Fabrics是什么？**
2. **持久化内存(PMEM)对存储架构的影响？**
3. **RDMA在分布式存储中的应用？如何实现？**
4. **SPDK(Storage Performance Development Kit)的原理？**
5. **智能网卡(DPU/SmartNIC)如何加速存储系统？**

#### **存储系统设计**
1. **设计一个支持ACID的KV存储引擎？**
2. **设计一个分布式对象存储系统（类似S3）？**
3. **设计一个时序数据库的存储引擎？**
4. **设计一个支持全文检索的存储系统？**
5. **设计一个跨数据中心的多活存储系统？
6. **设计一个线程池与内存池**

## 🎯 **针对性准备建议**

### 1. **按优先级准备**
- **必掌握核心（30道）**：1,2,4,5,11,18,21,27,28,31,32,33,34,51,52,57,58,59,71,72,76,77,81,86,91,92,96
- **进阶加分（40道）**：其余根据目标公司调整

### 2. **回答技巧**
- **STAR法则**：Situation → Task → Action → Result
- **从原理到实践**：先讲理论，再结合实际项目/开源代码
- **对比分析**：LSM vs B+Tree，Raft vs Paxos等
- **辩证思考**：每种技术的优缺点和适用场景

### 3. **实战准备**
- **代码题必练**：
 - 实现一个简单的LSM Tree
 - 实现一个线程安全的LRU Cache
 - 实现一个简单的Raft协议核心
 - 实现一个内存池

### 4. **开源项目研究**
- **必读代码**：RocksDB、LevelDB、TiKV、Ceph、etcd
- **关注点**：架构设计、关键数据结构、并发控制、错误处理

### 5. **模拟面试**
- 针对每道题，用录音记录自己的回答
- 找朋友进行技术模拟面试
- 参加在线技术面试平台练习