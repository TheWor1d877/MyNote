mutex的底层实现是futex
在用户态尝试获取锁，如果成功就继续进行
如果失败就进入内核态，然后进入阻塞状态

自旋锁：
一直使用cpu资源进行忙等
知道临界资源可以被访问
本身没有任何公平性，可能被饿死

产生死锁的条件:
- 互斥：减少临界区，使用无锁数据结构
- 持有并等待,
- 非抢占： 如果获得不了L2,就把L1释放
- 循环等待： 偏序关系
