fsync同步元数据与文件数据，较慢，因为要写更多数据，需要确保文件完全一致性的场景	
fdatasync仅文件数据	较快，减少磁盘I/O，对性能要求更高，只需要数据一致性的场景
### fsync
讲文件的所有修改刷新到磁盘
确保数据持久化之后返回
元数据包括修改时间，访问时间，文件大小，权限等等
```c
int fd = open("file.txt",O_WRONLY);
write(fd,buffer,size);
fsync(fd);
```
##### 使用场景
数据库使用日志：确保原子性
关键配置文件： 一致性
严格要求文件状态一致的场景

### fdatasync
只同步文件到磁盘
只有在元数据更改会影响后续数据读取时才同步元数据
性能更好，因为减少了磁盘写入次数

何时 fdatasync 会同步元数据：
- 文件大小变化时（因为需要正确读取文件）
- 某些必须的元数据变更
```c
int fd = open("file.txt", O_WRONLY);
write(fd, buffer, size);
fdatasync(fd);  // 主要确保数据写入，元数据可能延迟写入
```
##### 使用场景
日志文件追加：只关系数据不丢失
批量数据写入： 对性能要求高
临时文件
流式数据