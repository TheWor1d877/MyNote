## ps
查看系统中所有进程的详细信息
```bash
ps aux
ps aux | head -1
USER    PID %CPU %MEM  VSZ   RSS      TTY  STAT START  TIME COMMAND
用户名  进程id CPU 内存 虚拟内存 物理内存 共享库 状态  开始时间 运行时间  指令

ps aux | grep bash
ps aux | grep -E 'bash' | grep -v grep
```

查看进程树
```bash
ps auxf
pstree -p
```

筛选，排序
```bash
ps -eo pid,%mem,comm --sort=-%mem | head 10
```

## watch
每隔几秒自动清屏
```bash
watch -n 1 'ps -eo pid,psr,comm | grep spin'
```

## top
如果说 ps 是拍照片，那 top 就是开直播。它的核心是 “实时”、“交互”、“动态诊断”。
- 系统汇总信息板（前5-7行）：整个系统的健康仪表盘。
```bash
top - 16:52:46 up  1:47,  1 user,  load average: 0.91, 0.96, 1.26
Tasks: 584 total,   1 running, 583 sleeping,   0 stopped,   0 zombie
%Cpu(s):  0.9 us,  0.3 sy,  0.0 ni, 98.7 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st 
MiB Mem :  31295.0 total,  21439.4 free,   6303.7 used,   4129.8 buff/cache     
MiB Swap:      0.0 total,      0.0 free,      0.0 used.  24991.3 avail Mem 
```

- cpu时间片占比

| 缩写 | 全称           | 中文含义                   |
| -- | ------------ | ---------------------- |
| us | user         | 普通用户进程占用               |
| sy | system       | 内核态占用                  |
| ni | nice         | 低优先级（nice>0）用户进程       |
| id | idle         | 空闲                     |
| wa | iowait       | 等待磁盘/网络 I/O 完成         |
| hi | hardware irq | 硬中断                    |
| si | software irq | 软中断                    |
| st | steal        | 被宿主机“偷走”给其它虚拟机（仅虚拟机可见） |


## htop
- **顶部区域**：与 `top` 类似的系统概览，但更直观。
    - **CPU条形图**：每个核心一条，颜色不同（**用户=`绿色`，系统=`红色`，低优先级=`蓝色`，IO等待=`黄色`**）。**一眼就能看出CPU在忙什么**。
    - **内存/交换条形图**：**已用=`绿色`，缓存=`黄色`，缓冲=`蓝色`**。你能直观看到缓存占了多少。
- 常用信号

| 信号      | 数值 | 快捷键/命令   | 典型用途                          |
| ------- | -- | -------- | ----------------------------- |
| SIGINT  | 2  | Ctrl-C   | politely 让前台进程自己退出            |
| SIGQUIT | 3  | Ctrl-\\  | 同 SIGINT + 吐 core，用来调试        |
| SIGKILL | 9  | kill -9  | 内核直接拔插销，**不能捕获、不能阻塞**         |
| SIGTERM | 15 | kill 默认发 | “请你体面退出”，进程可以扫尾再关             |
| SIGSTOP | 19 | Ctrl-Z   | 暂停（挂起），**不能捕获**               |
| SIGCONT | 18 | fg/bg    | 把暂停的进程继续跑                     |
| SIGHUP  | 1  | 关闭终端时发   | 守护进程常用它重载配置                   |
| SIGUSR1 | 10 | 自定义      | nginx -s reopen、albert 切深色模式等 |
| SIGUSR2 | 12 | 自定义      | 同上，留一个做“热升级”                  |

- pri nice
nice -20 … 0 … 19
普通用户只能在 0~19 之间调；root 才能设负 nice（-20~19）。


## nmon
[[Linux/Linux命令/nmon|nmon]]